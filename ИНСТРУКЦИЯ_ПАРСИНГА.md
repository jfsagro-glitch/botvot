# Инструкция по парсингу канала и обновлению уроков

## Текущая ситуация

В `data/lessons.json` сейчас только 2 урока (22 и 23). Для получения всех 30 уроков с сохранением форматирования, эмодзи и картинок нужно спарсить канал Telegram.

## Вариант 1: Парсинг канала (рекомендуется)

Этот способ сохраняет все форматирование, эмодзи и картинки из канала.

### Шаг 1: Установка зависимостей

```bash
pip install telethon
```

### Шаг 2: Получение API ключей

1. Перейдите на https://my.telegram.org/
2. Войдите с вашим номером телефона
3. Перейдите в раздел "API development tools"
4. Создайте приложение и получите:
   - `api_id` (число)
   - `api_hash` (строка)

### Шаг 3: Запуск парсинга

```bash
python scripts/parse_and_update_lessons.py
```

Скрипт попросит ввести:
- API ID
- API Hash

**ID канала:** `-1003400082074` (из ссылки https://web.telegram.org/k/#-3400082074)

### Результат

После парсинга будут созданы:
- `data/raw_channel.json` - все сообщения
- `data/by_days.json` - сообщения по дням
- `data/lessons.json` - обновленные уроки
- `media/` - папка с картинками и видео

## Вариант 2: Извлечение из Word файла

Если у вас есть Word файл с уроками:

```bash
pip install python-docx
python scripts/extract_from_word.py
```

**Примечание:** Word файл может не содержать все форматирование и эмодзи из Telegram.

## Проверка результатов

После парсинга проверьте:

```bash
python scripts/check_lessons.py
```

Это покажет:
- Количество уроков
- Какие дни есть
- Количество медиа на урок
- Длину текста

## Запуск бота

После обновления уроков запустите бота:

```bash
python run_all_bots.py
```

Или отдельно:

```bash
python -m bots.sales_bot
python -m bots.course_bot
```

