# Развертывание ботов на сервере

Для того, чтобы боты работали постоянно, их нужно развернуть на облачном сервере.

## Варианты размещения

### 1. Railway (Рекомендуется)
- ✅ Простой деплой
- ✅ Бесплатный tier (500 часов/месяц)
- ✅ Автоматический деплой из GitHub
- ✅ Встроенная поддержка переменных окружения

### 2. Render
- ✅ Бесплатный tier
- ✅ Простой деплой
- ⚠️ Может "засыпать" на бесплатном плане

### 3. Fly.io
- ✅ Бесплатный tier
- ✅ Хорошая производительность
- ⚠️ Требует Docker

### 4. VPS (DigitalOcean, AWS, Hetzner)
- ✅ Полный контроль
- ✅ Нет ограничений
- ⚠️ Требует настройки сервера

## Быстрый старт с Railway

### Шаг 1: Подготовка

1. Зарегистрируйтесь на https://railway.app/
2. Подключите ваш GitHub репозиторий

### Шаг 2: Создание проекта

1. В Railway нажмите "New Project"
2. Выберите "Deploy from GitHub repo"
3. Выберите ваш репозиторий `botvot`

### Шаг 3: Настройка переменных окружения

В настройках проекта добавьте все переменные из `.env`:

```
SALES_BOT_TOKEN=ваш_токен_продающего_бота
COURSE_BOT_TOKEN=ваш_токен_курс_бота
ADMIN_CHAT_ID=ваш_chat_id
GENERAL_GROUP_ID=id_общей_группы
PREMIUM_GROUP_ID=id_премиум_группы
PAYMENT_PROVIDER=yookassa
YOOKASSA_SHOP_ID=ваш_shop_id
YOOKASSA_SECRET_KEY=ваш_secret_key
YOOKASSA_RETURN_URL=https://t.me/StartNowQ_bot
PAYMENT_CURRENCY=RUB
```

### Шаг 4: Настройка деплоя

Railway автоматически определит Python проект. Убедитесь, что:
- Python версия: 3.11 или выше
- Start Command: `python -m bots.sales_bot` (для продающего бота)

### Шаг 5: Запуск второго бота

Для курс-бота создайте второй сервис:
1. В проекте нажмите "+ New"
2. Выберите "GitHub Repo" (тот же репозиторий)
3. В настройках измените Start Command на: `python -m bots.course_bot`
4. Добавьте те же переменные окружения

## Альтернатива: Один процесс для обоих ботов

Создайте файл `run_all_bots.py` для запуска обоих ботов в одном процессе.

## Мониторинг

Railway предоставляет:
- Логи в реальном времени
- Метрики использования
- Автоматические перезапуски при сбоях

## Обновление

При пуше в GitHub Railway автоматически перезапустит ботов с новым кодом.

